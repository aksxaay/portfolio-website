var scroll;function checkError(){jQuery(".form-group.error").removeClass("error"),jQuery(".wpcf7-not-valid").each((function(){jQuery(this).parent(".form-group").addClass("error"),jQuery(this).parentsUntil(".form-group").parent(".form-group").addClass("error")}))}gsap.registerPlugin(ScrollTrigger),jQuery(document).ready((function(e){e.fn.isOnScreen=function(){var t=e(window),a={top:t.scrollTop(),left:t.scrollLeft()};a.right=a.left+t.width(),a.bottom=a.top+t.height();var o=this.offset();return o.right=o.left+this.outerWidth(),o.bottom=o.top+this.outerHeight(),!(a.right<o.left||a.left>o.right||a.bottom<o.top||a.top>o.bottom)};var t,a,o,i,r,s,n=1;function l(){e(".wp-block-gallery.columns-1 img[data-src]").each((function(){var t=e(this);t.attr("src",t.attr("data-src")).removeAttr("data-src"),t.attr("srcset",t.attr("data-srcset")).removeAttr("data-srcset")}))}function d(e,t,a){return Math.floor(Math.sqrt(Math.pow(t-(e.offset().left+e.width()/2),2)+Math.pow(a-(e.offset().top+e.height()/2),2)))}function c(){e(".footer").each((function(){var t=e(window).scrollTop();e(this).offset().top<t?e("body").addClass("footer-active"):e("body").removeClass("footer-active")})),e(".section-video, .play .video-wrap").each((function(){var t=e(window).scrollTop(),a=e(this).find("video");a.length&&!a.hasClass("paused-modal")&&(e(this).offset().top>t-2*e(window).height()&&t+2*e(window).height()>e(this).offset().top?a[0].play():a[0].pause())}))}function p(){e(".home .section-video").each((function(){var t=e(".container.big:last").width();n=e(window).width()/t})),e(window).width()<768?o||e("section-partners .swiper.swiper-initialized").length||(o=new Swiper(".section-partners .swiper",{slidesPerView:4,slidesPerColumn:2,speed:600,slidesPerGroup:2,spaceBetween:0,pagination:{el:".section-partners .swiper-pagination",clickable:!0}})):o&&e("section-partners .swiper.swiper-initialized").length&&o.destroy(),e(window).width()<768?e(".wp-block-gallery:not(.columns-1)").each((function(){var t=e(this).attr("data-galleryid");e('[data-galleryid="'+t+'"].swiper:not(.swiper-initialized)').length&&(window["galleryB"+t]=new Swiper('[data-galleryid="'+t+'"].swiper',{slidesPerView:1,spaceBetween:32,speed:600,navigation:{nextEl:'[data-galleryid="'+t+'"] .swiper-button-next',prevEl:'[data-galleryid="'+t+'"] .swiper-button-prev'},pagination:{el:'[data-galleryid="'+t+'"] .swiper-pagination',clickable:!0},breakpoints:{767:{slidesPerView:2}}}))})):e(".wp-block-gallery:not(.columns-1)").each((function(){var t=e(this).attr("data-galleryid");window["galleryB"+t]&&(e('[data-galleryid="'+t+'"].swiper-initialized.swiper.columns-1').length||window["galleryB"+t].destroy())})),e(window).width()<1023?e(".why-items").each((function(){var t=e(this).attr("data-itemsid");e('[data-itemsid="'+t+'"].swiper:not(.swiper-initialized)').length&&(window["galleryW"+t]=new Swiper('[data-itemsid="'+t+'"].swiper:not(.swiper-initialized)',{slidesPerView:1,speed:600,spaceBetween:32,pagination:{el:'[data-itemsid="'+t+'"] .swiper-pagination',clickable:!0},breakpoints:{767:{slidesPerView:2}}}))})):e(".why-items").each((function(){var t=e(this).attr("data-itemsid");window["galleryW"+t]&&(e('[data-itemsid="'+t+'"].swiper-initialized.swiper').length||window["galleryW"+t].destroy())}))}function h(){e(window).width()>1100?t||(t=gsap.to(".home .section-video .video-wrap",{scrollTrigger:{trigger:".section-video",scroller:"[data-scroll-container]",start:"top top",end:"bottom bottom",scrub:1},scale:n}),a=gsap.to(".home .section-video .play",{scrollTrigger:{trigger:".section-video",scroller:"[data-scroll-container]",start:"top top",end:"bottom bottom",scrub:0,duration:0},ease:"power0.out",y:e(window).height()})):(a&&a.kill(),t&&t.kill(),e(".section-video .play").removeAttr("style"))}function m(){e(window).width()>767&&e(".js-parallax:not(.parallaxed)").each((function(t){e(this).parentsUntil(".js-parallax").parent(".js-parallax").length||e(this).parent(".js-parallax").length||(e(this).addClass("parallaxed"),gsap.timeline({scrollTrigger:{trigger:this,start:"top bottom",scrub:0,end:"bottom top",scroller:"[data-scroll-container]"}}).fromTo(e(this).find("img")[0],{yPercent:-20,ease:"none"},{yPercent:20,ease:"none"},0))}))}e(document).on("mousemove touch ",(function(t){e(window).width()>1100&&(e(".magnetize-double").each((function(){!function(t,a){var o=a.pageX,i=a.pageY,r=e(t),s=r.next(),n=r.data("par")||1,l=e(t),c=20*l.data("dist")||120,p=l.offset().left+l.width()/2,h=l.offset().top+l.height()/2,m=-.45*Math.floor(p-o),g=-.45*Math.floor(h-i);r.data("par")&&(m=-.45*Math.floor(p-o)*n,g=-.45*Math.floor(h-i)*n);d(l,o,i)<c?(TweenMax.to(r,.3,{y:g,x:m}),r.addClass("magnet")):(TweenMax.to(r,.45,{y:0,x:0}),r.removeClass("magnet")),d(l,o,i)<c?(TweenMax.to(s,.3,{y:1.15*g,x:1.15*m}),s.addClass("magnet")):(TweenMax.to(s,.45,{y:0,x:0}),s.removeClass("magnet"))}(e(this),t)})),e(".magnetize").each((function(){!function(t,a,o){var i=a.pageX,r=a.pageY,s=e(t),l=s.data("par")||1,c=e(t);o&&(c=s.parentsUntil(".magnetize-wrap").parent(".magnetize-wrap"));var p=20*c.data("dist")||120,h=c.offset().left+c.width()/2,m=c.offset().top+c.height()/2,g=-.45*Math.floor(h-i),f=-.45*Math.floor(m-r);s.data("par")&&(g=-.45*Math.floor(h-i)*l,f=-.45*Math.floor(m-r)*l);0===c.data("dist")||o?e(".error-404").length?d(c,i,r)<p?(TweenMax.to(s,.3,{y:f,x:g}),s.addClass("magnet")):(TweenMax.to(s,.45,{y:0,x:0}),s.removeClass("magnet")):c.offset().top<r&&c.offset().top+c.height()*n>r?(TweenMax.to(s,.3,{y:f,x:g}),s.addClass("magnet")):(TweenMax.to(s,.45,{y:0,x:0}),s.removeClass("magnet")):d(c,i,r)<p?(TweenMax.to(s,.3,{y:f,x:g}),s.addClass("magnet")):(TweenMax.to(s,.45,{y:0,x:0}),s.removeClass("magnet"))}(e(this),t,e(this).parentsUntil(".magnetize-wrap").parent(".magnetize-wrap").length)})))})),l(),e(window).on("resize",(function(){l()})),e(window).on("scroll",(function(){l()})),e(".portfolio-item .image img, .is-cropped img").each((function(){e(this).wrap('<div class="img-wrap js-parallax"></div>')})),e(".section-why .text img, .section-why .title img, .section-team .team-item img, .entry .wp-block-gallery .blocks-gallery-grid .blocks-gallery-item img, .featured-image img, .wp-block-image > img, .section-image .image-wrap > img").each((function(){e(this).wrap('<div class="img-wrap-ind js-parallax"></div>')})),Fancybox.bind("[data-fancybox]",{on:{init:t=>{e("video").each((function(t){this.paused||(e(this).addClass("paused-modal"),this.pause())}))},destroy:t=>{e("video.paused-modal").each((function(t){e(this).removeClass("paused-modal"),this.play()}))}}}),e(".footer").attr("data-scroll-speed",e(window).height()/-200),e(".why-items").each((function(t){e(this).attr("data-itemsid",t)})),e(".section-post").length||(e(".wp-block-gallery").each((function(t){e(this).wrap('<div class="entry"></div>').wrap('<div class="container"></div>')})),e(".wp-block-quote").each((function(t){e(this).wrap('<div class="entry"></div>').wrap('<div class="container"></div>')}))),e(".wp-block-gallery").each((function(t){var a=e(this);a.attr("data-galleryid",t),a.addClass("swiper").children().addClass("swiper-wrapper").children().addClass("swiper-slide"),a.append('<div class="swiper-pagination"></div>'),a.hasClass("columns-1")&&(a.append('<div class="swiper-button-prev magnetize-wrap"><div class="btn-circle"><div class="circle magnetize"></div><div class="text magnetize" data-par="1.05"><div class="rotate-wrap"><span class="arrow"></span></div></div></div></div><div class="swiper-button-next magnetize-wrap"><div class="btn-circle"><div class="circle magnetize"></div><div class="text magnetize" data-par="1.05"><div class="rotate-wrap"><span class="arrow"></span></div></div></div></div>'),a.wrap('<div class="bg-black slider-wrap"></div>'))})),e(".wp-block-gallery.columns-1").each((function(){var t=e(this).attr("data-galleryid");new Swiper('[data-galleryid="'+t+'"].swiper',{slidesPerView:1,loop:!0,spaceBetween:32,speed:600,navigation:{nextEl:'[data-galleryid="'+t+'"] .swiper-button-next',prevEl:'[data-galleryid="'+t+'"] .swiper-button-prev'},pagination:{el:'[data-galleryid="'+t+'"] .swiper-pagination',clickable:!0},breakpoints:{767:{spaceBetween:71,slidesPerView:2},1023:{spaceBetween:142,slidesPerView:2}}})})),c(),e(window).on("resize",(function(){e("body").addClass("remove-transition"),window.setTimeout((function(){e("body").removeClass("remove-transition")}),50),p(),c(),h()})),e(".section:first-child .title h2, .section-why:first-child .text > h2, .cats-head h1, .section-post h1, .section-contacts h1").each((function(t){e(this).removeAttr("style").removeClass("words lines splitting");var a=this;Splitting({target:a,by:"lines"}),window.setTimeout((function(){var t=0,o=.8*e(a).find(".word").height();e(a).addClass("loaded"),e(a).children().not(".line").each((function(){e(this).position().top>t+.6*o&&e(e(this).prevAll().get().reverse()).not(".line").wrapAll('<div class="line"></div>'),t=e(this).position().top})),e(a).children().not(".line").wrapAll('<div class="line"></div>'),e(a).addClass("animate-onview").children().wrap('<div class="line-holder"></div>')}),0)})),e(window).on("scroll",(function(){c()})),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&e("body").addClass("safari"),e(document).on("click",".js-confirm",(function(){return function(e,t,a){var o=new Date;o.setTime(o.getTime()+24*a*60*60*1e3);var i="expires="+o.toUTCString();document.cookie=e+"="+t+";"+i+";path=/"}("bar",1,730),e(".cookie-bar").remove(),!1})),e(document).on("click",".active-menu ul a",(function(){var t=e(this).attr("href");return e(".menu-trigger").click(),e("body").addClass("loading-next"),window.setTimeout((function(){e("body").addClass("loading-delay"),e("body").removeClass("loading-next"),window.location.href=t}),850),!1})),e(document).on("click",".js-load-more",(function(){var t=e(this);return e("body").addClass("loading"),e.ajax({method:"GET",url:t.attr("href"),success:function(t){e("body").removeClass("loading"),e("#items").append(e(t).find("#items").html()),window.setTimeout((function(){e("#items").addClass("loaded"),e(".portfolio-item > .image > img").each((function(){e(this).wrap('<div class="img-wrap js-parallax"></div>')})),m(),e(".portfolio-item .image img[data-src]").each((function(){var t=e(this);t.attr("src",t.attr("data-src")).removeAttr("data-src"),t.attr("srcset",t.attr("data-srcset")).removeAttr("data-srcset")})),scroll.update(),ScrollTrigger.refresh()}),350),e(t).find(".load-more a").length?e(".load-more").html(e(t).find(".load-more").html()):e(".load-more").remove()}}),!1})),e(document).on("click",".cat-list a",(function(){var t=e(this);return t.addClass("loading"),e(".cat-list li").removeClass("current"),t.parent().addClass("current"),window.history.pushState("cat",t.text(),t.attr("href")),e("#items").html("").removeClass("loaded").addClass("loading"),e.ajax({method:"GET",url:t.attr("href"),success:function(a){t.removeClass("loading"),e("#items").append(e(a).find("#items").html()),scroll.update(),e(".portfolio-item > .image > img").each((function(){e(this).wrap('<div class="img-wrap js-parallax"></div>')})),m(),e(".portfolio-item .image img[data-src]").each((function(){var t=e(this);t.attr("src",t.attr("data-src")).removeAttr("data-src"),t.attr("srcset",t.attr("data-srcset")).removeAttr("data-srcset")})),window.setTimeout((function(){e("#items").addClass("loaded"),scroll.update(),ScrollTrigger.refresh()}),350)}}),!1})),e(document).on("click",".faq-heading",(function(){return e(this).hasClass("active")?(e(".faq-item .faq-heading").removeClass("active"),e(".faq-item .faq-content").stop(!0).slideUp(300,(function(){p(),scroll.update(),ScrollTrigger.refresh()}))):(e(".faq-item .faq-heading").removeClass("active"),e(".faq-item .faq-content").stop(!0).slideUp(300),e(this).addClass("active").parent().find(".faq-content").slideDown(300,(function(){p(),scroll.update(),ScrollTrigger.refresh()}))),!1})),e(document).on("click",'[href*="#"]',(function(){if(e(this).attr("href").length>1){var t=e(e(this).attr("href").replace("index.html",""));if("#text"!=e(this).attr("href")||t.length||(t=e(".section-hero + div")),t.length&&!t.hasClass("tab-c"))return e(".has-scroll-smooth").length?scroll.scrollTo(t.offset().top):e("html, body").stop().animate({scrollTop:t.offset().top},500,(function(){e("html, body").stop().animate({scrollTop:t.offset().top},300)})),!1}})),e("select option:first-child").attr("value",""),e(document).on("change","select",(function(){e(this).val()?e(this).removeClass("placeholder").parent().removeClass("placeholder"):e(this).addClass("placeholder").parent().addClass("placeholder")})),e(document).on("focus",".form-group :input",(function(){e(this).parent(".form-group").addClass("focus"),e(this).parentsUntil(".form-group").parent(".form-group").addClass("focus")})),e(document).on("blur",".form-group :input",(function(){e(this).parent(".form-group").removeClass("focus"),e(this).parentsUntil(".form-group").parent(".form-group").removeClass("focus")})),e(document).on("input blur change",".form-group :input",(function(){e(this).val()?(e(this).parent(".form-group").addClass("fill"),e(this).parentsUntil(".form-group").parent(".form-group").addClass("fill")):(e(this).parent(".form-group").removeClass("fill"),e(this).parentsUntil(".form-group").parent(".form-group").removeClass("fill"))})),e("select").change(),e("select").crfs(),e('[type="tel"]').prop("inputmode","numeric"),e('[type="tel"]').keypress((function(e){8!=e.which&&43!=e.which&&isNaN(String.fromCharCode(e.which))&&e.preventDefault()})),e(document).on("click",".menu-trigger",(function(){return clearTimeout(i),clearTimeout(r),clearTimeout(s),e("body").hasClass("active-menu")?(e("body").addClass("active-menu-closing2"),i=window.setTimeout((function(){e("body").removeClass("active-menu"),e("body").addClass("active-menu-closing"),e(".menu-overlay svg path .button-bottom")[0].beginElement()}),350),r=window.setTimeout((function(){e(".menu-overlay svg path .button-middle")[0].beginElement()}),700),s=window.setTimeout((function(){e("body").removeClass("active-menu-closing2 active-menu-closing")}),900)):(e("body").removeClass("active-menu-closing active-menu-closing2"),e("body").addClass("active-menu"),e(".menu-overlay svg path .button-top")[0].beginElement(),r=window.setTimeout((function(){e(".menu-overlay svg path .button-middle")[0].beginElement()}),350)),!1})),window.setTimeout((function(){e("body").addClass("loaded-anim")}),350),window.setTimeout((function(){e("video").attr("src",e("video").attr("data-src"))}),500),window.setTimeout((function(){e("body").addClass("loaded"),e(".footer").attr("data-scroll-speed",e(window).height()/-200),scroll=new LocomotiveScroll({el:document.querySelector("[data-scroll-container]"),smooth:!0}),1==e(".section-hero .line-wrap").filter((function(e){return""!=this.textContent})).length&&e("body").addClass("one-line-hero"),ScrollTrigger.scrollerProxy("[data-scroll-container]",{scrollTop(e){return arguments.length?scroll.scrollTo(e,0,0):scroll.scroll.instance.scroll.y},getBoundingClientRect:()=>({top:0,left:0,width:window.innerWidth,height:window.innerHeight}),pinType:document.querySelector("[data-scroll-container]").style.transform?"transform":"fixed"}),m(),e(".js-react-color").each((function(t){window["scroll"+t]&&window["scroll"+t].kill();var a="bottom 85%";(e(this).hasClass("bg-black-always")||e(this).hasClass("v2")||e(this).hasClass("section-portfolio")&&e(this).is(":last-child"))&&(a="bottom 0%"),e(this).hasClass("section-portfolio")&&e(this).is(":last-child")&&(a="bottom -100%"),window["scroll"+t]=gsap.from(this,{scrollTrigger:{trigger:this,start:"top 25%",end:a,scroller:"[data-scroll-container]",onEnter:()=>e("body").addClass("rever-color"),onLeave:()=>e("body").removeClass("rever-color"),onEnterBack:()=>e("body").addClass("rever-color"),onLeaveBack:()=>e("body").removeClass("rever-color")}})})),p(),h(),scroll.on("scroll",t=>{c(),e(".footer").each((function(){e(this).parent().offset().top<70?e("body").addClass("footer-active"):e("body").removeClass("footer-active")})),e("body").removeClass("black-active"),e(".entry .bg-black").each((function(){e(this).offset().top<90&&120-e(this).height()<e(this).offset().top&&e("body").addClass("black-active")})),e(".animate-onview").each((function(){e(this).parent().offset().top<e(window).height()/2&&e(this).addClass("active-anim")}))}),scroll.on("scroll",ScrollTrigger.update),ScrollTrigger.addEventListener("refresh",()=>scroll.update()),ScrollTrigger.refresh()}),0),window.setTimeout((function(){scroll.update(),ScrollTrigger.refresh()}),1e3)})),document.addEventListener("wpcf7mailsent",(function(e){jQuery("body").addClass("form-sent"),scroll.update(),ScrollTrigger.refresh(),$(".has-scroll-smooth").length?scroll.scrollTo(jQuery(".sent-message").offset().top-50):jQuery("html, body").stop().animate({scrollTop:jQuery(".sent-message").offset().top-50},0)}),!1),document.addEventListener("wpcf7invalid",(function(e){checkError()}),!1);